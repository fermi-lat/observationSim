package observationSim
version v0r2

author James Chiang <jchiang@slac.stanford.edu>

# $Id: requirements,v 1.12 2003/08/19 17:28:57 cohen Exp $

branches observationSim cmt src doc

use flux v7*
use MapFlux v0*
use astro v0*
use latResponse v0*
use Likelihood v*
use xml
use cfitsio v1* IExternal
use CLHEP v2* IExternal
#use python v2*

#apply_pattern packageShr
apply_pattern package_include

# Kluge. Python isn't a package yet, so this is machine-dependent
macro pydir ../python/
macro PYINCLUDE /usr/local/include/python2.2
macro PYLIB /usr/local/lib

macro SWIG swig
macro swig_nowarn "" Linux "-w"
include_dirs $(PYINCLUDE)
language swig -suffix=i -linker=$(clink)
#make_fragment swig 
make_fragment swig_library

private

# allow use of internal path
macro observationSim_cppflags "" Linux "-I ../src -g -pedantic " WIN32 "/I..\src  /wd4290"
macro_prepend cflags "" Linux "-g "

macro_append test_observationSimlinkopts "" Linux " -L$(MAPFLUXROOT)/$(CMTCONFIG)/ -lMapFlux -Wl,-rpath,$(MAPFLUXROOT)/$(CMTCONFIG)/ "
     
apply_pattern package_linkopts

# make sure test application gets built when library changes
macro test_observationSimstamps "observationSim.stamp"

# make sure exposureMap application gets built when library changes
macro exposureMapstamps "exposureMap.stamp"

# standard package library
macro my_headers "" WIN32 "../observationSim/*.h *.h"
library observationSim -no_share $(my_headers) \
 Simulator.cxx\
 EventContainer.cxx\
 ScDataContainer.cxx\
 FitsTable.cxx\
 LatSc.cxx\
 EgretSc.cxx\
 Roi.cxx\
 $(pydir)*.i
# trapfpe.c

# test application
application test_observationSim test/main.cxx

# exposure map calculator
application exposureMap test/exposureMap.cxx
