package observationSim
version v2r1

author James Chiang <jchiang@slac.stanford.edu>

# $Id: requirements,v 1.38 2003/11/07 02:50:51 jchiang Exp $

branches observationSim cmt src doc

use flux v8*
use MapFlux v0*
use astro v0*
use latResponse v1*
use xml
use cfitsio v1* IExternal
use CLHEP v2* IExternal

apply_pattern package_include

private

use Likelihood v*
use hoops v*
use Goodi v2*

#use python v2* IExternal
#macro pydir ../python/

macro_append use_linkopts "" Linux " -L$(MAPFLUXROOT)/$(CMTCONFIG)/ -lMapFlux -Wl,-rpath,$(MAPFLUXROOT)/$(CMTCONFIG)/ "

# allow use of internal path
macro observationSim_cppflags "" Linux "-I ../src -g -pedantic -D TRAP_FPE " WIN32 "/I..\src  /wd4290"
macro_prepend cflags "" Linux "-g "
#
# suppress warning messages (from flux package) on linux:
macro_prepend cppflags "-I ../src " Linux "-w " WIN32 "/I..\src "

macro_append test_observationSimlinkopts "" Linux " -L$(MAPFLUXROOT)/$(CMTCONFIG)/ -lMapFlux -Wl,-rpath,$(MAPFLUXROOT)/$(CMTCONFIG)/ " \
 WIN32 " /LIBPATH:$(MAPFLUXROOT)\$(CMTCONFIG) "

apply_pattern package_linkopts

# make sure test application gets built when library changes
macro test_observationSimstamps "observationSim.stamp"

# make sure exposureMap application gets built when library changes
macro exposureMapstamps "exposureMap.stamp"

macro obsSimstamps "obsSim.stamp"

macro testGoodiReadstamps "testGoodiRead.stamp"

# standard package library
macro my_headers "" WIN32 "../observationSim/*.h *.h"
library observationSim -no_share $(my_headers) \
 Simulator.cxx\
 EventContainer.cxx\
 ScDataContainer.cxx\
 FitsTable.cxx\
 LatSc.cxx\
 EgretSc.cxx\
 Roi.cxx\
 $(pydir)/*.i
# trapfpe.c

set INFILES "$(GOODIROOT)/Data"
set PFILES "$(OBSERVATIONSIMROOT)/data"

# test applications
#application test_observationSim test/main.cxx
#application testGoodiRead test/testGoodiRead.cxx

# O2 prototype
application obsSim test/obsSim.cxx

# exposure map calculator
#application exposureMap test/exposureMap.cxx
