package observationSim
version v2r6

author James Chiang <jchiang@slac.stanford.edu>

# $Id: requirements,v 1.53 2004/01/13 04:07:32 jchiang Exp $

branches observationSim cmt src doc

use flux v8*
use latResponse v*
use Goodi v*
use astro v0*
use facilities v*
use xml v*
use cfitsio v1* IExternal
use CLHEP v2* IExternal

apply_pattern package_include

private

use hoops v*
use hoopsUtil v*

#use python v2* IExternal
#macro pydir ../python/

# allow use of internal path
macro observationSim_cppflags "" \
Linux "-I ../src -g -O -pedantic -D TRAP_FPE -D USE_GOODI " \
WIN32 '/I..\src /D"USE_GOODI" /wd4290'

macro_prepend cflags "" Linux "-g -O"

# suppress warning messages (from flux, Goodi, etc.) on Linux:
macro_prepend cppflags "-I ../src " Linux "-w " WIN32 "/I..\src "

# this package uses obsolete C function names, beware	
macro_append cpplinkflags "" WIN32 " oldnames.lib"

macro_append ROOT_libs ""  WIN32 " libHisT.lib "

apply_pattern package_linkopts

# make sure various applications get built when library changes
macro test_observationSimstamps "observationSim.stamp"
macro obsSimstamps "obsSim.stamp"
macro exposureMapstamps "exposureMap.stamp"
macro testGoodiReadstamps "testGoodiRead.stamp"
macro testScDataReadstamps "testScDataRead.stamp"

# standard package library
macro my_headers "" WIN32 "../observationSim/*.h *.h"
library observationSim -no_share $(my_headers) \
 Simulator.cxx\
 EventContainer.cxx\
 ScDataContainer.cxx\
 FitsTable.cxx\
 LatSc.cxx\
 EgretSc.cxx\
 Roi.cxx\
 $(pydir)/*.i

# These needed for FITS templates.
set INFILES "$(GOODIROOT)/Data"
set TPLDIR "$(GOODIROOT)/Templates"

# test applications
application test_observationSim test/main.cxx
#application testGoodiWrite test/testGoodiWrite.cxx
#application testGoodiRead test/testGoodiRead.cxx
#application testScDataRead test/testScDataRead.cxx

# O2 prototype
application obsSim test/obsSim.cxx

# exposure map calculator
#application exposureMap test/exposureMap.cxx
